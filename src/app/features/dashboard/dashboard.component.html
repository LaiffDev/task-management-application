<section>
  <div class="flex items-center gap-2 text-xs text-gray-400">
    <span class="material-symbols-rounded"> home </span> |
    <span>Dashboard</span>
  </div>
  <!-- tabs -->
  <div class="flex items-center space-x-10 justify-center p-4">
    <div class="bg-[#2e2e2ea8] w-60 p-6 rounded-md shadow-md font-medium">
      <p class="text-md flex items-center gap-1">
        <span class="material-symbols-rounded"> format_list_bulleted </span>
        All Tasks
      </p>
      <p class="text-4xl">{{ allTasks.length }}</p>
    </div>

    <div class="bg-slate-400 w-60 p-6 rounded-md shadow-md font-medium">
      <p class="text-md flex items-center gap-1">
        <span class="material-symbols-rounded"> event_list </span>
        Backlogs
      </p>
      <p class="text-4xl">{{ backlogs.length }}</p>
    </div>

    <div class="bg-blue-200 w-60 p-6 rounded-md shadow-md font-medium">
      <p class="text-md flex items-center gap-1">
        <span class="material-symbols-rounded"> assignment </span>
        To Do
      </p>
      <p class="text-4xl">{{ todos.length }}</p>
    </div>

    <div class="bg-yellow-200 w-60 p-6 rounded-md shadow-md font-medium">
      <p class="text-md flex items-center gap-1">
        <span class="material-symbols-rounded"> pending_actions </span>
        In Progress
      </p>
      <p class="text-4xl">{{ inProgress.length }}</p>
    </div>

    <div class="bg-orange-200 w-60 p-6 rounded-md shadow-md font-medium">
      <p class="text-md flex items-center gap-1">
        <span class="material-symbols-rounded"> grading </span>
        Staging
      </p>
      <p class="text-4xl">{{ stagings.length }}</p>
    </div>

    <div class="bg-green-200 w-60 p-6 rounded-md shadow-md font-medium">
      <p class="text-md flex items-center gap-1">
        <span class="material-symbols-rounded"> done_all </span>
        Completed
      </p>
      <p class="text-4xl">0</p>
    </div>

    <div class="bg-red-200 w-60 p-6 rounded-md shadow-md font-medium">
      <p class="text-md flex items-center gap-1">
        <span class="material-symbols-rounded"> remove_done </span>
        Cancelled
      </p>
      <p class="text-4xl">{{ canceled.length }}</p>
    </div>
  </div>

  <!-- cta to open dialog to add a new task -->
  <div class="mt-5 flex justify-end items center">
    <button
      class="bg-[#155dfc] p-2 rounded-lg shadow-md text-white flex items-center cursor-pointer hover:bg-[#0d4ac1] transition"
      (click)="openDialog()"
    >
      <span class="material-symbols-rounded"> add </span>
      Add task
    </button>
  </div>

  <!-- table showing all tasks -->
  <div>
    <mat-form-field class="mt-2">
      <mat-label>Search task...</mat-label>
      <input matInput (keyup)="applyFilter($event)" #input />
    </mat-form-field>

    <div class="mat-elevation-z8 shadow-md">
      <table mat-table [dataSource]="dataSource" matSort>
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Id</th>
          <td mat-cell *matCellDef="let row">{{ row.id }}</td>
        </ng-container>

        <ng-container matColumnDef="description">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Description</th>
          <td mat-cell *matCellDef="let row">{{ row.description }}</td>
        </ng-container>

        <ng-container matColumnDef="priority">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Priority</th>
          <td mat-cell *matCellDef="let row">{{ row.priority }}</td>
        </ng-container>

        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
          <td mat-cell *matCellDef="let row">{{ row.status }}</td>
        </ng-container>

        <ng-container matColumnDef="dueDate">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Due Date</th>
          <td mat-cell *matCellDef="let row">
            {{ row.dueDate | date : "dd/MM/yyyy" }}
          </td>
        </ng-container>

        <ng-container matColumnDef="edit">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let row">
            <div class="flex items-center justify-center space-x-4">
              <span
                class="material-symbols-rounded bg-[#155dfc] p-2 text-white rounded-md cursor-pointer hover:bg-[#0d4ac1] transition"
              >
                edit
              </span>
              <span
                class="material-symbols-rounded bg-[#fc1515] p-2 text-white rounded-md cursor-pointer hover:bg-[#c10d0d] transition"
              >
                delete
              </span>
            </div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

        <!-- Row shown when there is no matching data. -->
        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="4">
            No data matching the filter "{{ input.value }}"
          </td>
        </tr>
      </table>

      <mat-paginator
        [pageSizeOptions]="[6]"
        aria-label="Select page"
        class="bg-[#7e7e7e]! text-white!"
      ></mat-paginator>
    </div>
  </div>
</section>
